{"version":3,"sources":["../../src/features/users/use-cases/listUserById.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA,sEAAmE;AAEnE,iGAAwE;AAExE,SAAgB,gBAAgB,CAAC,EAAC,UAAU,EAA8B;IACzE,OAAO,KAAK,EAAE,EAAU,EAAE,EAAE;QAC3B,IAAI,CAAC,EAAE,EAAE;YACR,MAAM,IAAI,2BAAY,CAAC;gBACtB,OAAO,EAAE,sBAAsB;gBAC/B,MAAM,EAAE,OAAO;gBACf,UAAU,EAAE,GAAG;gBACf,IAAI,EAAE;oBACL,MAAM,EAAE,EAAE;iBACV;aACD,CAAC,CAAC;SACH;QACD,IAAI,CAAC,IAAA,4BAAiB,EAAC,EAAE,CAAC,EAAE;YAC3B,MAAM,IAAI,2BAAY,CAAC;gBACtB,OAAO,EAAE,gCAAgC;gBACzC,MAAM,EAAE,OAAO;gBACf,UAAU,EAAE,GAAG;gBACf,IAAI,EAAE,EAAE;aACR,CAAC,CAAC;SACH;QACD,MAAM,IAAI,GAAE,MAAM,UAAU,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAC1C,IAAI,CAAC,IAAI,EAAE;YACV,MAAM,IAAI,2BAAY,CAAC;gBACtB,OAAO,EAAE,gBAAgB;gBACzB,MAAM,EAAE,OAAO;gBACf,UAAU,EAAE,GAAG;gBACf,IAAI,EAAE;oBACL,MAAM,EAAE,EAAE;iBACV;aACD,CAAC,CAAC;SACH;QAED,MAAM,KAA0B,IAAI,CAAC,IAAI,EAAnC,EAAC,QAAQ,EAAC,KAAK,OAAoB,EAAhB,KAAK,cAAxB,YAAyB,CAAU,CAAC;QAE1C,OAAO,KAAK,CAAC;IACd,CAAC,CAAC;AACH,CAAC;AApCD,4CAoCC","file":"listUserById.js","sourcesContent":["import { ExpressError } from '../../../common/errors/ExpressError';\nimport { IUserRepository } from '../interfaces';\nimport validateMongodbId from '../../../utils/mongo/ObjectId-validator';\n\nexport function makeListUserById({repository}:{repository:IUserRepository}){\n\treturn async (id: string) => {\n\t\tif (!id) {\n\t\t\tthrow new ExpressError({\n\t\t\t\tmessage: 'User id not provided',\n\t\t\t\tstatus: 'error',\n\t\t\t\tstatusCode: 400,\n\t\t\t\tdata: {\n\t\t\t\t\tuserId: id\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif (!validateMongodbId(id)) {\n\t\t\tthrow new ExpressError({\n\t\t\t\tmessage: 'Please provide a valid user id',\n\t\t\t\tstatus: 'error',\n\t\t\t\tstatusCode: 400,\n\t\t\t\tdata: {}\n\t\t\t});\n\t\t}\n\t\tconst user= await repository.findById(id);\n\t\tif (!user) {\n\t\t\tthrow new ExpressError({\n\t\t\t\tmessage: 'User not found',\n\t\t\t\tstatus: 'error',\n\t\t\t\tstatusCode: 404,\n\t\t\t\tdata: {\n\t\t\t\t\tuserId: id\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\t\tconst {password:_docs,...props}=user._doc;\n\n\t\treturn props;\n\t};\n} "]}