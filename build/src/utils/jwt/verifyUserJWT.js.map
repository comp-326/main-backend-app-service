{"version":3,"sources":["../../src/utils/jwt/verifyUserJWT.ts"],"names":[],"mappings":";;;;;AAAA,mEAAgE;AAEhE,yCAAiD;AACjD,gEAA+B;AAE/B,MAAM,aAAa;IAAnB;QACC,wBAAmB,GAAG,KAAK,EAAE,KAAa,EAAE,EAAE;YAC7C,IAAI;gBACH,MAAM,OAAO,GAAG,sBAAG,CAAC,MAAM,CAAC,KAAK,EAAE,0BAAiB,CAAC,UAAU,CAAmB,CAAC;gBAElF,OAAO,OAAO,CAAC,MAAM,CAAC;aACtB;YAAC,OAAO,KAAK,EAAE;gBACf,MAAM,IAAI,2BAAY,CAAC;oBACtB,IAAI,EAAE,EAAE;oBACR,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,uBAAuB;oBAChE,MAAM,EAAE,OAAO;oBACf,UAAU,EAAE,GAAG;iBACf,CAAC,CAAC;aACH;QACF,CAAC,CAAC;IAgBH,CAAC;IAdA,uBAAuB,CAAC,KAAa;QACpC,IAAI;YACH,MAAM,OAAO,GAAG,sBAAG,CAAC,MAAM,CAAC,KAAK,EAAE,0BAAiB,CAAC,UAAU,CAAmB,CAAC;YAElF,OAAO,OAAO,CAAC,MAAM,CAAC;SACtB;QAAC,OAAO,KAAK,EAAE;YACf,MAAM,IAAI,2BAAY,CAAC;gBACtB,IAAI,EAAE,EAAE;gBACR,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,uBAAuB;gBAChE,MAAM,EAAE,OAAO;gBACf,UAAU,EAAE,GAAG;aACf,CAAC,CAAC;SACH;IACF,CAAC;CACD;AAED,kBAAe,IAAI,aAAa,EAAE,CAAC","file":"verifyUserJWT.js","sourcesContent":["import { ExpressError } from '../../common/errors/ExpressError';\nimport { JWTPayloadType } from '../../common/types';\nimport { environmentConfig } from '../../config';\nimport jwt from 'jsonwebtoken';\n\nclass VerifyUserJWT{\n\tverifyPasswordToken = async (token: string) => {\n\t\ttry {\n\t\t\tconst decoded = jwt.verify(token, environmentConfig.SECRET_KEY) as JWTPayloadType;\n\n\t\t\treturn decoded.userId;\n\t\t} catch (error) {\n\t\t\tthrow new ExpressError({\n\t\t\t\tdata: {},\n\t\t\t\tmessage: error.message ? error.message : 'Unknown error occured',\n\t\t\t\tstatus: 'error',\n\t\t\t\tstatusCode: 500\n\t\t\t});\n\t\t}\n\t};\n\n\tactivateUserTokenDecode(token: string){\n\t\ttry {\n\t\t\tconst decoded = jwt.verify(token, environmentConfig.SECRET_KEY) as JWTPayloadType;\n\n\t\t\treturn decoded.userId;\n\t\t} catch (error) {\n\t\t\tthrow new ExpressError({\n\t\t\t\tdata: {},\n\t\t\t\tmessage: error.message ? error.message : 'Unknown error occured',\n\t\t\t\tstatus: 'error',\n\t\t\t\tstatusCode: 500\n\t\t\t});\n\t\t}\n\t}\n}\n\nexport default new VerifyUserJWT();\n"]}